{{ define "main" }}
<div class="post-layout">
    <!-- Main Content -->
    <div class="post-main">
        <article class="post-single">
            <!-- Breadcrumbs -->
            {{ partial "breadcrumbs.html" . }}
            
            <!-- Post Header -->
            <header class="post-header">
                <h1 class="post-title">{{ .Title }}</h1>
                
                            <div class="post-meta">
                <div class="post-meta-primary">
                    <time class="post-date">{{ .Date.Format "02.01.2006" }}</time>
                    {{ $authorParam := .Param "author" }}
                    {{ if $authorParam }}
                    <span class="post-author">
                        <span class="author-icon">üë§</span>
                        {{ if or (eq (printf "%T" $authorParam) "[]string") (eq (printf "%T" $authorParam) "[]interface {}") }}
                            {{ delimit $authorParam ", " }}
                        {{ else }}
                            {{ $authorParam }}
                        {{ end }}
                    </span>
                    {{ end }}
                    <span class="reading-time">
                        <span class="reading-time-icon">‚è±Ô∏è</span>
                        {{ math.Round (div (countwords .Content) 200.0) }} –º–∏–Ω
                    </span>
                    <span class="view-count">
                        <span class="view-count-icon">üëÅÔ∏è</span>
                        <span class="view-count-number" data-post-id="{{ .File.UniqueID }}">0</span> –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
                    </span>
                </div>

            </div>
            </header>
            
            <!-- Post Summary -->
            {{ if .Description }}
            <div class="post-summary-box">
                <div class="post-summary-content">
                    <h3 class="post-summary-title">–ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</h3>
                    <div class="post-summary-text">{{ .Description | markdownify }}</div>
                </div>
            </div>
            {{ end }}
            
            <!-- Post Content -->
            <div class="post-content">
                {{ .Content }}
            </div>
            
            <!-- Page Divider -->
            <hr class="page-divider">
            
            <!-- Post Tags -->
            {{ if .Params.tags }}
            <div class="post-tags">
                {{ range .Params.tags }}
                <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}" class="tag">{{ . }}</a>
                {{ end }}
            </div>
            {{ end }}
            
            <!-- Page Divider -->
            <hr class="page-divider">
            
            <!-- Share Buttons -->
            {{ partial "share-buttons.html" . }}
            
            <!-- Post Navigation -->
            {{ partial "post-navigation.html" . }}
        </article>
    </div>
    
    <!-- Sidebar with Table of Contents -->
    <aside class="post-sidebar">
        <!-- Ad Banner -->
        {{ partial "ad-banner.html" . }}
        
        <div class="toc-container">
            <div class="toc-header">
                <h3 class="toc-title">–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ</h3>
                <button class="toc-toggle" aria-label="–°–≤–µ—Ä–Ω—É—Ç—å/—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ">
                    <span class="toc-toggle-icon">‚ñº</span>
                </button>
            </div>
            <div class="toc-content">
                {{ .TableOfContents }}
            </div>
        </div>
    </aside>
</div>
{{ end }}
